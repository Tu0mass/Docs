<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<title>Väistämissääntöjen testi</title>
<style>
body {font-family: Arial, sans-serif; background:#f4f4f4; margin:0; padding:40px; color:#222;}
.container {max-width:700px; margin:auto; background:white; padding:30px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
h1 {text-align:center; margin-bottom:20px;}
.question {margin-bottom:25px;}
button {background:#0078ff; color:white; border:none; padding:10px 20px; border-radius:4px; cursor:pointer;}
button:hover {background:#005fcc;}
.option {display:block; margin:8px 0; padding:8px; border:1px solid #ccc; border-radius:4px; cursor:pointer;}
.option:hover {background:#eef;}
.correct {background:#c8f7c5 !important; border-color:#3c3;}
.wrong {background:#f9c0c0 !important; border-color:#c33;}
.result {text-align:center; font-size:20px; font-weight:bold; margin-top:25px;}
</style>
</head>
<body>
<div class="container">
<h1>Väistämissääntöjen testi</h1>
<div id="quiz"></div>
<div class="result" id="result"></div>
<button id="restart" style="display:none;">Uudestaan</button>
</div>
<script>
const questions = [
{
q: "Olet tulossa risteykseen, jossa ei ole merkkejä. Oikealta tulee auto. Kumpi väistää?",
a: ["Sinä väistät oikealta tulevaa", "Oikealta tuleva väistää sinua", "Kumpikaan ei väistä"],
c: 0
},
{
q: "Sinulla on kolmio, vasemmalta tulee auto ilman merkkiä. Kumpi väistää?",
a: ["Sinä väistät", "Vasemmalta tuleva väistää", "Kumpikaan ei väistä"],
c: 0
},
{
q: "Käännyt vasemmalle, vastaan tulee auto suoraan. Kumpi väistää?",
a: ["Sinä väistät", "Vastaantuleva väistää", "Ei kumpikaan"],
c: 0
},
{
q: "Tulet liikenneympyrään, jossa on jo auto sisällä. Kumpi väistää?",
a: ["Sinä väistät ympyrässä olevaa", "Ympyrässä oleva väistää sinua", "Ei väistämistä"],
c: 0
},
{
q: "Tulet pihasta tielle. Kumpi väistää?",
a: ["Sinä väistät kaikkea liikennettä", "Tiellä ajavat väistävät sinua", "Ei väistämistä"],
c: 0
},
{
q: "Sinulla on vihreä nuolivalo vasemmalle, vastaantuleva ajaa suoraan vihreällä pallovalolla. Kumpi väistää?",
a: ["Sinä väistät", "Vastaantuleva väistää", "Ei kumpikaan, valot ohjaavat suunnat erikseen"],
c: 2
},
{
q: "Kääntyessäsi oikealle väistätkö jalankulkijaa, joka on suojatiellä sinun edessä?",
a: ["Kyllä", "En", "Vain jos hän on juoksemassa"],
c: 0
},
{
q: "Polkupyöräilijä ajaa pyörätietä, ja sinulla on kolmio. Kumpi väistää?",
a: ["Sinä väistät", "Pyöräilijä väistää", "Ei kumpikaan"],
c: 0
}
];

let current = 0, score = 0;
const quiz = document.getElementById("quiz");
const result = document.getElementById("result");
const restart = document.getElementById("restart");

function loadQuestion() {
quiz.innerHTML = "";
if (current < questions.length) {
const q = questions[current];
const qDiv = document.createElement("div");
qDiv.className = "question";
qDiv.innerHTML = `<h3>${current+1}. ${q.q}</h3>`;
q.a.forEach((opt,i)=>{
const btn=document.createElement("div");
btn.className="option";
btn.textContent=opt;
btn.onclick=()=>checkAnswer(i,btn);
qDiv.appendChild(btn);
});
quiz.appendChild(qDiv);
} else {
quiz.innerHTML = "";
result.innerHTML = `Sait ${score} / ${questions.length} oikein`;
restart.style.display = "inline-block";
}
}

function checkAnswer(i,btn) {
const options=document.querySelectorAll(".option");
options.forEach(o=>o.onclick=null);
if (i===questions[current].c) {
btn.classList.add("correct");
score++;
} else {
btn.classList.add("wrong");
options[questions[current].c].classList.add("correct");
}
setTimeout(()=>{current++;loadQuestion();},1000);
}

restart.onclick=()=>{current=0;score=0;result.innerHTML="";restart.style.display="none";loadQuestion();};
loadQuestion();
</script>
</body>
</html>